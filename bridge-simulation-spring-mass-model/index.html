<!doctype html>
<html class="no-js" lang="">
  <head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-X2GHHPD6P5"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-X2GHHPD6P5');
    </script>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title></title>
    <link rel="stylesheet" href="css/style.css">
    <meta name="description" content="">

    <meta property="og:title" content="">
    <meta property="og:type" content="">
    <meta property="og:url" content="">
    <meta property="og:image" content="">
    <meta property="og:image:alt" content="">

    <link rel="icon" href="/favicon.ico" sizes="any">
    <link rel="icon" href="/icon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="../icon.png">

    <link rel="manifest" href="../site.webmanifest">
    <meta name="theme-color" content="#fafafa">

    <script src="js/vendor/isomer.min.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.css"
          integrity="sha384-zh0CIslj+VczCZtlzBcjt5ppRcsAmDnRem7ESsYwWwg3m/OaJ2l4x7YBZl9Kxxib" crossorigin="anonymous">

    <!-- The loading of KaTeX is deferred to speed up page rendering -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.js"
            integrity="sha384-Rma6DA2IPUwhNxmrB/7S3Tno0YY7sFu9WSYMCuulLhIqYSGZ2gKCJWIqhBWqMQfh"
            crossorigin="anonymous"></script>

    <!-- To automatically render math in text elements, include the auto-render extension: -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/contrib/auto-render.min.js"
            integrity="sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh" crossorigin="anonymous"
            onload="renderMathInElement(document.body);"></script>

    <!-- Styles for the GitHub gists -->
    <link rel="stylesheet" href="css/monokai.css">
  </head>

  <body>
    <div class="no-cover"></div>
    <div class="header">
      <h1>Bridge Simulation Using a Spring-Mass Model</h1>

      <p><strong>By Jean Paul Ruiz - March 3, 2025</strong></p>
    </div>
    <article class="notion-root max-width">
      <p>
        This simulation models a bridge as a series of interconnected plates linked by springs, following the principles of
        Hooke's Law. Each plate represents a section of the bridge, while the springs simulate the forces that keep the
        structure stable under different loads and displacements.
      </p>

      <p>Here is a simplification of the model describing the behavior of two connected plates:</p>

      <p style="text-align: center">
        <img src="img/basic-model-negative.jpg" alt="basic model" />
        <br>
        <small>Diagram 1</small>
      </p>

      <p>Notice how we illustrate the same plate above, at the same level, and below the plate to its left.</p>

      <p>The restoring force in each spring is given by Hooke's Law:</p>

      <p>
        <span id="equation_hooke"></span>
      </p>

      <p>Where \(F\) is the force exerted by the spring, \(k\) is the spring constant, and \(x\) is the displacement from the springâ€™s natural length.</p>

      <p>The length of each spring is determined by the positions of the plates it connects.</p>

      <p>Also, according to Hooke's law, displacement (\(x\)) is usually defined as follows:</p>

      <p><span id="equation_length"></span></p>

      <p><span id="stretchedLength"></span> represents the length of the spring when it is stretched. This is the measurement of the spring after it has been extended from its natural resting position, indicating the force applied to elongate it.</p>

      <p><span id="restingLength"></span> is the natural or resting length of the spring, which is the length it assumes when no external forces are applied. This is the length of the spring at equilibrium, where it is neither stretched nor compressed.</p>

      <p>By simulating the forces acting on each plate, we can analyze how the bridge responds to external forces such as weight, wind, and vibrations, helping to understand its structural integrity.</p>

      <p>Here is a slightly more detailed diagram of the forces involved between two interconnected plates:</p>

      <p style="text-align: center">
        <img src="img/model-detailed-negative.jpg" alt="model detailed" />
        <br>
        <small>Diagram 2</small>
      </p>

      <p>From the diagram above, using the Pythagoras theorem, we can find out some equations:</p>

      <div id="equation1"></div>
      <br>

      <div id="equation2"></div>
      <br>

      <div id="equation3"></div>
      <br>

      <div id="equation4"></div>
      <br>

      <p>From Hooke's law:</p>

      <div id="equation5"></div>
      <br>

      <p>From Newton's second law of motion:</p>

      <div id="equation6"></div>
      <br>

      <p>In Hooke's Law, when the spring is stretched, the displacement \(x\) is positive, and the restoring force \(F\) is negative, acting in the opposite direction to return the spring to equilibrium.</p>

      <div id="equation7"></div>
      <br>

      <p>Additionally, we express Hooke's Law in terms of the absolute lengths of the spring instead of displacement:</p>

      <div id="equation8"></div>
      <br>

      <p>Notice how in Diagram 2, the plate moving up (or down) has a vector of speed, defined as \(\frac{dz}{dt}\), and there is also an opposing force defined by the air friction (\(K_f\)) multiplied by the speed (\(\frac{dz}{dt}\)).</p>
      <br>

      <div id="equation9"></div>
      <br>

      <div id="equation10"></div>
      <br>

      <p>The corner plates will have two neighbours, the border middle plates will have three, and the middle plates will have four. The following diagrams describe this behavior:</p>

      <div style="text-align: center;">
        <img src="img/matrix-neighbours.png" alt="matrix neighbours"/>
      </div>

      <br>

      <div style="text-align: center;">
        <img src="img/plate-neighbours-connected.png" alt="plate neighbours connected"/>
      </div>

      <br>

      <p>In the most complex scenario, a plate will have four neighbours, resulting in the following equation:</p>

      <div id="equation11" style="text-align: center; line-height: 3;"></div>
      <br>

      <h2>How do we translate all of this into code?</h2>

      <p>We need to initialize a few matrices so we create a simple function to do it:</p>
      <script src="https://gist.github.com/jpruiz114/e8d119334453e8b3dd54bbc7e2e1002b.js"></script>

      <p>We will also need the ability to multiply a matrix by a scalar:</p>
      <script src="https://gist.github.com/jpruiz114/7b00f75672ccde237891061b196edc73.js"></script>

      <p>Additionally, we will need the ability to add matrices:</p>
      <script src="https://gist.github.com/jpruiz114/d8e9b1eb8916d70dfbed98def337bfe2.js"></script>

      <p>For visualization purposes, we want to approximate the numeric values of a matrix:</p>
      <script src="https://gist.github.com/jpruiz114/23a1fb870ebe1aedbc7d80fcd1b9a4a2.js"></script>

      <p>We also need to debug the matrix (As we are currently doing):</p>
      <script src="https://gist.github.com/jpruiz114/00fb3a2e3c1d8a185fd84ed89191477a.js"></script>

      <p>Later when we have the results of each iteration, we want to have the ability to render each isometric plate:</p>
      <script src="https://gist.github.com/jpruiz114/ff0cab77a1a798e2a9ced5d57d6e001d.js"></script>

      <p>Below you can see the simulation of the bridge running on an HTML canvas, rendered with an open source isometric engine (Hit: Open the browser's developer tools to see the matrices printed):</p>

      <canvas id="art"></canvas>

      <p>Check the source code of this simulation <a class="link" href="https://github.com/jpruiz114/physics-simulations/tree/main/bridge-simulation-spring-mass-model">here</a></p>

      <p>The old-fashioned paper will always beat anything, so I encourage you to attempt figuring out the balance equations like this:</p>

      <ul>
        <li class="notion-list-item"><a class="link" href="img/page-1.jpg">Page 1</a></li>
        <li class="notion-list-item"><a class="link" href="img/page-2.jpg">Page 2</a></li>
        <li class="notion-list-item"><a class="link" href="img/page-3.jpg">Page 3</a></li>
      </ul>

      <p>
        I want to express my gratitude to the creators of <a class="link" href="https://github.com/jdan/isomer" target="_blank">Isomer</a>
        and <a class="link" href="https://github.com/KaTeX/KaTeX" target="_blank">KaTeX</a> for their incredible work. Isomer makes
        visualizing elements in isometric projections easy, while KaTeX allows seamless rendering of mathematical equations
        directly in HTML. Finally, the authors of the <a class="link" href="https://codersblock.com/blog/customizing-github-gists/">dark theme</a> for GitHub gists also deserve some recognition.
      </p>

      <p><a class="link" href="/physics-simulations/">&larr; Back</a></p>
    </article>

    <script src="js/app.js"></script>
  </body>
</html>
